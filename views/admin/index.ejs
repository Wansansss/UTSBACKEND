<!DOCTYPE html>
<html lang="en">

<head>
  <title>
    <%= typeof title !='undefined' ? title: 'Admin' %>
  </title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.3/css/bootstrap.min.css"
    integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/styles.css">
  <link href="https://cdn.datatables.net/v/bs5/dt-2.0.6/datatables.min.css" rel="stylesheet">
</head>

<body>
  <div class="container">
    <div class="row my-4">
      <div class="col-lg-12">
        <% if(infoSubmitObj !='' ) { %>
          <div class="col-8 alert alert-success" role="alert">
            <%= infoSubmitObj%>
          </div>
          <% } %>
            <% if(infoErrorsObj !='' ) { %>
              <div class="col-8 alert alert-danger" role="alert">
                <%= infoErrorsObj[0].message %>
              </div>
              <% } %>
        <div class="table-responsive">
          <% if (recipe !='' ) { %>
            <table class="table table-striped my-3">
              <thead>
                <tr class="table-dark">
                  <th>id</th>
                  <th>Email</th>
                  <th>Name</th>
                  <th>Image</th>
                  <th>Ingridients</th>
                  <th>Description</th>
                  <th>Category</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <% recipe.forEach((row,index)=> { %>
                  <tr>
                    <td>
                      <%= index %>
                    </td>
                    <td>
                      <%= row.email %>
                    </td>
                    <td>
                      <%= row.name %>
                    </td>
                    <td><img src="/uploads/<%=row.image %>" width="50" class="img-thumbnail"></td>
                    <td>
                      <% row.ingredients.forEach(function(ingredients, index){ %>
                        <li class="list-group-item">
                          <%= ingredients %>
                        </li>
                        <% }) %>
                    </td>
                    <td>
                      <%= row.description %>
                    </td>
                    <td>
                      <%= row.category %>
                    </td>
                    <td>
                      <a href="/edit/<%= row._id %>" class="text-success"><i class="fas fa-edit fa-lg mx-1"></i></a>
                      <a href="/delete/<%= row._id %>" class="text-danger"><i class="fas fa-trash fa-lg"></i></a>
                    </td>
                  </tr>
                  <% }) %>
              </tbody>
              <% } else{ %>
                <h1 class="text-center text-secondary mt-5">Items Not Found</h1>
                <% } %>
            </table>
        </div>
      </div>
    </div>

  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
    integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.3/js/bootstrap.min.js"
    integrity="sha512-ykZ1QQr0Jy/4ZkvKuqWn4iF3lqPZyij9iRv6sGqLRdTPkY69YX6+7wvVGmsdBbiIfN/8OdsI7HABjvEok6ZopQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.datatables.net/v/bs5/dt-2.0.6/datatables.min.js"></script>
  <script>
    $(document).ready(function () {
      $("table").DataTable({
        order: [0, "desc"]
      });
    });
  </script>

</body>


</html>
